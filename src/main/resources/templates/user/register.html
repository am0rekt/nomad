<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
	    <title>NomadNetwork | Register</title>
	    <meta name="viewport" content="width=device-width, initial-scale=1">

	    <!-- Bootstrap (same as login page) -->
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

	    <style>
	        body {
	            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
	            height: 100vh;
	            display: flex;
	            align-items: center;
	            justify-content: center;
	            font-family: 'Segoe UI', sans-serif;
	        }

	        .register-card {
	            background: rgba(255, 255, 255, 0.95);
	            padding: 40px;
	            border-radius: 20px;
	            width: 100%;
	            max-width: 450px;
	            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
	        }

	        .brand {
	            font-weight: 700;
	            font-size: 26px;
	            color: #2c5364;
	        }

	        .form-control {
	            border-radius: 10px;
	            padding: 10px;
	        }

	        .btn-nomad {
	            background: #2c5364;
	            color: white;
	            border-radius: 10px;
	            padding: 10px;
	            font-weight: 600;
	        }

	        .btn-nomad:hover {
	            background: #203a43;
	        }

	        .link-login {
	            text-decoration: none;
	            color: #2c5364;
	            font-weight: 500;
	        }

	        .link-login:hover {
	            text-decoration: underline;
	        }

	        .strength {
	            height: 5px;
	            border-radius: 5px;
	            margin-top: 5px;
	        }
	    </style>
	</head>

<body>

	<div class="register-card">

	    <div class="text-center mb-4">
	        <div class="brand">NomadNetwork</div>
	        <p class="text-muted">Create your account</p>
	    </div>

	    <form th:action="@{/register}" th:object="${userDTO}" method="post">

	        <input type="text" th:field="*{username}" 
	               class="form-control mb-3" placeholder="Username" required />

	        <input type="email" th:field="*{email}" 
	               class="form-control mb-3" placeholder="Email" required />

	        <input type="tel" th:field="*{phone}"
	               class="form-control mb-3"
	               placeholder="+919876543210"
	               pattern="^\+[1-9][0-9]{7,14}$"
	               maxlength="16"
	               required />

	        <input type="password" id="password"
	               th:field="*{password}"
	               class="form-control mb-2"
	               placeholder="Password" required />

	        <div id="strengthBar" class="strength mb-3"></div>

	        <input type="password" th:field="*{confirmPassword}"
	               class="form-control mb-3"
	               placeholder="Confirm Password" required />

	        <button type="submit" class="btn btn-nomad w-100">
	            Register
	        </button>

	    </form>

	    <div class="text-center mt-3">
	        <a href="/login" class="link-login">
	            Already have an account? Login
	        </a>
	    </div>

	</div>


<script>
    const password = document.getElementById("password");
    const strengthBar = document.getElementById("strengthBar");

    password.addEventListener("input", function () {
        const value = password.value;
        let strength = 0;

        if (value.length >= 6) strength++;
        if (/[A-Z]/.test(value)) strength++;
        if (/[0-9]/.test(value)) strength++;
        if (/[^A-Za-z0-9]/.test(value)) strength++;

        switch (strength) {
            case 0:
            case 1:
                strengthBar.style.width = "25%";
                strengthBar.style.background = "red";
                break;
            case 2:
                strengthBar.style.width = "50%";
                strengthBar.style.background = "orange";
                break;
            case 3:
                strengthBar.style.width = "75%";
                strengthBar.style.background = "yellow";
                break;
            case 4:
                strengthBar.style.width = "100%";
                strengthBar.style.background = "green";
                break;
        }
    });

    function togglePassword() {
        const type = password.type === "password" ? "text" : "password";
        password.type = type;
    }
</script>

</body>
</html>



