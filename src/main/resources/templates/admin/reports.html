<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Admin - Reported Posts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

    <h2 class="mb-4 text-center">Reported Posts</h2>

    <!-- If No Reports -->
    <div th:if="${#lists.isEmpty(reports)}">
        <div class="alert alert-success text-center">
            No reported posts ðŸŽ‰
        </div>
    </div>

    <!-- Report Cards -->
    <div th:each="item : ${reports}"
         th:if="${item != null and item[0] != null}"
         class="card mb-3 shadow-sm">

        <div class="card-body">

            <!-- Post Title -->
            <h5 class="card-title"
                th:text="${item[0].title}">
                Post Title
            </h5>

            <!-- Report Count -->
            <p class="card-text">
                Reports:
                <span class="badge bg-danger"
                      th:text="${item[1]}">
                    0
                </span>
            </p>

            <!-- Action Buttons -->
            <div class="d-flex gap-2">

                <!-- View Post -->
                <a th:href="@{/posts/{id}(id=${item[0].postID})}"
                   class="btn btn-outline-primary btn-sm">
                    View Post
                </a>

                <!-- Delete Post -->
                <form th:action="@{/admin/posts/{id}/delete(id=${item[0].postID})}"
                      method="post">
                    <button type="submit"
                            class="btn btn-danger btn-sm">
                        Delete Post
                    </button>
                </form>

                <!-- Clear Reports -->
                <form th:action="@{/admin/posts/{id}/clear-reports(id=${item[0].postID})}"
                      method="post">
                    <button type="submit"
                            class="btn btn-warning btn-sm">
                        Clear Reports
                    </button>
                </form>

            </div>

        </div>
    </div>

</div>

</body>
</html>
